# Cable Channels Web App

Пожалуйста, постарайтесь справиться с этим заданием за 3 часа. 
Если Вы не закончите выполнение этой задачи в течение трех часов, не забудьте сделать `commit` по истечении трех часов, и после продолжайте работу.
Помните, на экзамене время будет ограничено и текущая практика укажет на что особенно много требуется времени.

## Приложение для подписки на канал

К настоящему времени Вы должны быть знакомы с созданием базовых веб-приложений с использованием фреймфорка `Express`. В настоящем задании Вы будете создавать приложение для подписки на канал для кабельных компаний. Это даст Вам возможность продемонстрировать свои знания путем написания кода для `model`, `view` и `controllers`, базовые знания `HTML` и некоторое понимание `CSS`.

Задание разбито на несколько частей. Вы должны завершить выполнение одной части, прежде чем переходить к следующей. 
Обозначены приблизительные временные рамки для каждой части.

### Release 1: Механизм аутентификации (регламентирование по времени ~ 60 минут)

Сделать аутентификацию на основе `session`/`cookie`. Сессии можно хранить в памяти, в БД, в файловой системе или любом другом `store` на ваше усмотрение.
Пароль для пользователя нельзя хранить в открытом виде, храним в виде хеша [bcrypt](https://github.com/kelektiv/node.bcrypt.js), можно использовать готовую библиотеку, например, [PassportJS](http://www.passportjs.org/) 

#### Модель пользователя

Создайте модель `User`. Добавьте проверки в модель `User`, которые гарантируют следующее:

- Каждый пользователь имеет адрес электронной почты
- Электронная почта каждого пользователя является уникальной
- Каждый пользователь имеет пароль

#### AJAX-регистрация нового пользователя, авторизация, выход из системы

Создайте маршруты (`routes`) и представления (`views`), чтобы позволить пользователю:

1. Зарегистрироваться в качестве нового пользователя
2. Войти в систему в качестве существующего пользователя
3. Выйти из системы за существующего пользователя

- Схема такая:
   - Вешаем обработчик события `submit` на форму;
   - Отправляем запрос через `fetch()` на роут аутентификации (не забудьте про [`credentials: 'include'`](https://developer.mozilla.org/en-US/docs/Web/API/Request/credentials));
   - Если ответ от роута статусом `200`, то делаем: `location.assign('/мой-роут')`;
   - Если ответ от роута статусом `401`, то выводим ошибку

Не усложняйте аутентификацию!

### Release 2: Каналы (регламентирование по времени ~ 30 минут)

Пользователи могут добавлять и удалять каналы из своей учетной записи пользователя. Пользователи могут подписываться на многие каналы, и канал может иметь много подписчиков. 

Не забудьте написать скрипт, который наполнит вашу БД каналами (`seeds.js`).


### Release 3: CRUD It Up (регламентирование по времени ~ 90 минут)

После аутентификации пользователя создайте некоторые страницы с CRUD операциями.

1. Без входа в систему пользователь может видеть список всех каналов
2. После входа в систему пользователь может видеть страницу профиля пользователя, включая:
   * список каналов пользователя
   * общую стоимость в месяц всех каналов пользователя
   * после входа в систему Пользователь должен увидеть свою страницу
3. Страница для отображения информации об одном канале, включая:
   * название канала, цену
   * общее количество абонентов
   * заглушка для изображения
   * кнопку для подписки на канал, если пользователь зарегистрирован, но еще не подписан
   * кнопку для отмены подписки на канал, если пользователь вошел в систему и уже подписался   

### Release 4: Загрузка изображений*

Релиз предполагает что базовый функционал уже сделан, и расширяет функционал возможностью загружать изображения канала в момент создания или редактирования.
Реализацию загрузки файла нужно выбрать вам, главная задача определить оптимальный способ загрузки.

- Последовательность действий пользователя:
   - Создаёт канал, заполняет его название и опционально имеет возможность загрузить изображение к нему
   - Когда канал создан, он может быть отредактирован и изображение можно загрузить позже (не только в момент создания)
   - Должен быть продуман функционал определяющий размер изображение, 
   - В случае если размер файла более 500 Кб файл не загружается, клиент об этом информируется

По окончанию работы нужно зафиксировать общее время выполнения задачи, сделать выводы по улучшению результата.